# Pacman

Ονοματεπώνυμο: Αλέξανδρος Ζερβόπουλος

Αριθμός Μητρώου: Π2015111

Demo Pacman: https://p15zerv.github.io/pacman/

Αποθετήριο κώδικα Pacman: https://github.com/p15zerv/pacman

Τελική παρουσίαση: https://p15zerv.github.io/MM-Report/

Το demo είναι η τρέχουσα έκδοση του παιχνιδιού, ανεξάρτητα του παραδοτέου. Ο κώδικας για κάθε παραδοτέο βρίσκεται σε ξεχωριστά branches στο αποθετήριο.

Οι αναφορές των παραδοτέων που ακολουθούν έχουν καταγραφεί με βάση τη χρονολογική σειρά που υλοποιήθηκαν μέχρι το τέλος της προθεσμίας κάθε παραδοτέου. Για την καταγραφή όσων υλοποιήθηκαν απο τα ζητούμενα αυτών, συμβουλευτείτε την τελική αναφορά.

## Παραδοτέο 1

### Αποθετήριο κώδικα: https://github.com/p15zerv/pacman/tree/Deliverable1

## Παραδοτέο 2

### Αποθετήριο κώδικα: https://github.com/p15zerv/pacman/tree/Deliverable2

### Τελικό αποτέλεσμα

<img src="https://user-images.githubusercontent.com/22644005/32406041-71aa914c-c179-11e7-8b0f-a09429f0517e.PNG" alt="" width="450" height="500">

### Προσθήκες σε αυτό το παραδοτέο

#### Δημιουργία νέας πίστας μέσω Tiled

<img src="https://user-images.githubusercontent.com/22644005/32405734-964471cc-c173-11e7-91f0-3bf7b0f4e3b9.PNG" alt="" width="225" height="250">

* Αλλαγή χρωμάτων του αρχικού tileset
* Προσθήκη νέου tile στο αρχικό tileset (περαιτέρω εξήγηση παρακάτω)

#### Αλλαγή εμφάνισης του Pacman

![red2](https://user-images.githubusercontent.com/22644005/32405822-2a9a6eb6-c175-11e7-8130-5228221c597f.png)

#### Νέο αντικείμενο που μπορεί να συλλέξει ο παίκτης

<img src="https://user-images.githubusercontent.com/22644005/32405905-e5d61e2c-c176-11e7-9241-53c15a2aead4.png" alt="" width="30" height="30">

Το αντικείμενο προστίθεται στην πίστα με τη βοήθεια του νέου tile που αναφέρεται παραπάνω. Χρησιμοποιώντας την παρακάτω εντολή, αντικαθίστανται στην πίστα τα συγκεκριμένα tiles με το sprite του λουλουδιού, παίρνοντας όλα τα χαρακτηριστικά των dots.

```Javascript
this.map.createFromTiles(35, this.safetile, 'flower', this.layer, this.dots);
```

#### Προσθήκη score, χρόνου, bonus και ζωών
* Προσθήκη **χρόνου**, **score** και **high-score**, εμφανίζονται με κείμενο. 
* Προσθήκη νέου **αντικειμένου bonus**, το οποίο εμφανίζεται στην πίστα σε μία τυχαία χρονική στιγμή μεταξύ 10 και 20 seconds. Αν ο παίκτης το συλλέξει, προσθέτει 1000 στο score και καταστρέφεται. Εναλλακτικά, αν περάσουν 10 δευτερόλεπτα από τη δημιουργία του και δεν έχει συλλεχθεί, το αντικείμενο καταστρέφεται χωρίς να αυξηθεί το score του παίκτη.
* Προσθήκη **συστήματος ζωών**, εμφανίζονται με κείμενο. Μιας και σε αυτό το παραδοτέο δεν υπάρχουν ακόμα εχθροί, ο παίκτης χάνει μία ζωή όταν ο παίκτης μαζέψει όλα τα αντικείμενα στην πίστα (dots και flowers). Όταν ο παίκτης χάσει και τις 3 ζωές του, εμφανίζεται η οθόνη game over. Για να ξαναξεκινήσει το παιχνίδι, απαιτείται refresh της σελίδας.

**Υποσημείωση:** το κείμενο που χρησιμοποιείται για την εμφάνιση πληροφορίας στην οθόνη (π.χ. score και ζωές), πιθανότατα θα αντικατασταθεί στην πορεία με sprites, για να ταιριάζουν περισσότερο με την arcade αισθητική του παιχνιδιού.

#### Προσθήκη μουσικής και ηχητικών εφέ

* Προσθήκη μουσικής
* Προσθήκη ηχητικών εφέ όταν ο παίκτης συλλέγει ένα αντικείμενο ή το αντικείμενο bonus

#### Προσθήκη συστήματος αποθήκευσης

Το σύστημα αυτό επιτρέπει στον παίκτη να αποθηκεύσει την πρόοδό του. Μιας και αυτή τη στιγμή δεν υπάρχουν πολλά στοιχεία για αυτήν, το μόνο που αποθηκεύεται είναι το high-score, το οποίο γίνεται αυτόματα όταν τελειώσει η πίστα, δηλαδή όταν ο παίκτης έχει μαζέξει όλα τα αντικείμενα σε αυτήν.

Η λειτουργία αυτή δεν αναφέρεται στα παραδοτέα αλλά θεωρήθηκε χρήσιμη και επομένως υλοποιήθηκε.

__*Περισσότερες πληροφορίες υλοποίησής των παραπάνω, αλλά και links για όλα τα αρχεία που χρησιμοποιήθηκαν (sprites, sfx, κλπ), βρίσκονται σε σχόλια στα σχετικά τμήματα του κώδικα του παιχνιδιού.*__

## Παραδοτέο 3

### Αποθετήριο κώδικα: https://github.com/p15zerv/pacman/tree/Deliverable3

### Τελικό αποτέλεσμα

<img src="https://user-images.githubusercontent.com/22644005/33735077-f853362c-db96-11e7-8a27-d164b4546ebe.png" alt="" width="450" height="500">

 Αρχικό Μενού
 
<img src="https://user-images.githubusercontent.com/22644005/33735455-028e454a-db98-11e7-9c93-fab76dd1c932.png" alt="" width="450" height="500">

Gameplay

### Προσθήκες σε αυτό το παραδοτέο

#### Προσθήκη εχθρών

![ghost](https://user-images.githubusercontent.com/22644005/33735736-d954ee30-db98-11e7-8783-d9a326b34016.png)

Οι εχθροί κινούνται τυχαία στην πίστα και μπορούν να φάνε τον πρωταγωνιστή.

Συγκεκριμένα:
* Σε περίπτωση που ένας εχθρός είναι σε σταυροδρόμι (έχει περισσότερες από 2 επιλογές για το που να πάει), επιλέγει μία τυχαία κατεύθυνση, εκτός από αυτή από την οποία έφτασε στο σταυροδρόμι.
* Διαφορετικά, αν έχει μόνο 2 επιλογές (εμπρός και πίσω), συνεχίζει ακολουθώντας το μονοπάτι στο οποίο είναι ήδη.
* Αν κάποια στιγμή βρεθεί σε επαφή με τον παίκτη, χάνει μία ζωή και τοποθετούνται αυτός και τα φαντάσματα στην αρχική τους θέση.

#### Προσθήκη δυνατότητας teleport

![Teleport](https://user-images.githubusercontent.com/22644005/33736511-7e0ab3d6-db9b-11e7-9969-821137474e9d.PNG)

Ο παίκτης, καθώς και οι εχθροί, έχουν τη δυνατότητα να τηλεμεταφερθούν από μία τρύπα σε άλλη.  

Την παρούσα στιγμή, υπάρχει πρόβλημα αν ο παίκτης προσπαθήσει να αλλάξει κατεύθυνση όταν είναι μέσα στην τρύπα. Αυτό συμβαίνει, γιατί όταν πάει να στρίψει, γίνεται έλεγχος των tiles γύρω του και, επειδή βγαίνει εκτός πίστας, κάποια tiles δεν υπάρχουν.  
Το πρόβλημα αυτό θα διορθωθεί πριν την τελική αναφορά.

#### Προσθήκη νέου αντικειμένου που μπορεί να συλλέξει ο παίκτης

![fruit2](https://user-images.githubusercontent.com/22644005/33736855-de5dbd40-db9c-11e7-8a89-79aa3bddcb43.png)

Όταν ο παίκτης συλλέγει ένα φρούτο, του δίνεται η δυνατότητα να φάει τους εχθρούς ακουμπώντας τους, για 7.5 δευτερόλεπτα μετά τη συλλογή του.

#### Προσθήκη αρχικού Μenu

<img src="https://user-images.githubusercontent.com/22644005/33735077-f853362c-db96-11e7-8a27-d164b4546ebe.png" alt="" width="225" height="250">

Το αρχικό Menu επιτρέπει στον παίκτη να επιλέξει πίστα. Στο background είναι ένα preview της επιλεγμένης πίστας.

Σε αυτή τη φάση υπάρχει μόνο μία πίστα, επομένως το menu δεν είναι ακόμα πλήρως λειτουργικό.

## Παραδοτέο 4

### Αποθετήριο κώδικα: https://github.com/p15zerv/pacman/tree/Deliverable4

#### Δημιουργία δεύτερης πίστας

<img src="https://user-images.githubusercontent.com/22644005/35177425-f8e82670-fd87-11e7-8870-4089d8bdf487.PNG" alt="" width="225" height="250">

Μόλις ο παίκτης ολοκληρώσει μία πίστα, προχωράει στην επόμενη. Αν δεν υπάρχει επόμενη, επιστρέφει στο αρχικό menu.

#### Αποστολή πίστας στο κεντρικό αποθετήριο

Δημιουργήθηκε και στάλθηκε νέα πίστα στο κεντρικό αποθετήριο από το [branch gh-pages και φάκελο extensions](https://github.com/p15zerv/pacman/tree/gh-pages/extensions)


#### Τελική αναφορά εργασίας

[Σε νέο αποθετήριο](https://github.com/p15zerv/MM-Report)

### Ακολουθούν αλλαγές που δεν αφορούν αποκλειστικά το 4ο παραδοτέο αλλά υλοποιήθηκαν μεταξύ 3ου και 4ου.

#### Αλλαγές στο tileset

![red-tiles](https://user-images.githubusercontent.com/22644005/35176914-a6cdbf10-fd84-11e7-8fe9-53194520ae8a.png)

* Προσθήκη νέων tile:
  - <img src="https://user-images.githubusercontent.com/22644005/35171551-db522388-fd6c-11e7-9805-eaa03d4d1428.PNG" alt="" width="30" height="30"> Αναπαριστά τα σημεία τοποθέτησης των λουλουδιών.
  - <img src="https://user-images.githubusercontent.com/22644005/35171950-39d5314c-fd6e-11e7-9780-05abd146a363.PNG" alt="" width="30" height="30"> Αναπαριστά τα σημεία τοποθέτησης των φρούτων.
  - <img src="https://user-images.githubusercontent.com/22644005/35172033-c1c9a61e-fd6e-11e7-86c0-59aa561c6d3c.png" alt="" width="30" height="30"> Αναπαριστά το σημείο τοποθέτησης του παίκτη.
  - <img src="https://user-images.githubusercontent.com/22644005/35172128-15ba0ade-fd6f-11e7-9016-e9d96758941e.PNG" alt="" width="30" height="30"> Αναπαριστά τα σημεία τοποθέτησης των εχθρών.
  - <img src="https://user-images.githubusercontent.com/22644005/35172814-d66533ba-fd71-11e7-886f-f78ada186360.PNG" alt="" width="30" height="30"> Αναπαριστά το σημείο τοποθέτησης της πέτρας.
  - <img src="https://user-images.githubusercontent.com/22644005/35172815-d7d64298-fd71-11e7-8ae6-8df2c05ae1ac.PNG" alt="" width="30" height="30"> Αναπαριστά το σημείο τοποθέτησης του καλαθιού.
  
#### Αλλαγή εμφάνισης εχθρών

![wolf](https://user-images.githubusercontent.com/22644005/35176663-48dd5632-fd83-11e7-9e54-163dc0c6fa4f.png)

#### Προσθήκη νέου αντικειμένου που συλλέγει ο παίκτης

<img src="https://vignette.wikia.nocookie.net/herebemonsters/images/4/43/Thunderous-Rock-Sprite.png/revision/latest?cb=20140330101444" alt="" width="50" height="40">

Νέο συλλεκτικό αντικείμενο, πέτρα. Ο παίκτης μπορεί να συλλέξει την πέτρα και να την πετάξει με το space. Σταματάει όταν χτυπήσει τοίχο και μπορεί να ξανασυλλεγεί. Αν στη διαδρομή έχει πετύχει τουλάχιστον έναν εχθρό, διαλύεται μόλις χτυπήσει τον τοίχο. Αν η πέτρα έχει διαλυθεί, εμφανίζεται πάλι μετά από 10-20 δευτερόλεπτα (τυχαία) στην αρχική της θέση.

#### Προσθήκη μουσικής και ηχητικών εφέ

* Προσθήκη διαφορετικής μουσικής στο menu
* Προσθήκη ηχητικών εφέ για όλα τα αντικείμενα που έχουν προστεθεί μέχρι τώρα, καθώς όταν ο παίκτης χάνει ζωή, σκοτώνει εχθρό και διάφορα άλλα.

#### Προσθήκη animation

![blood](https://user-images.githubusercontent.com/22644005/35177776-299b1054-fd8b-11e7-90e0-694eb602b0b3.png)

Προστέθηκε animation που αναπαράγεται όταν ο παίκτης ή κάποιος εχθρός πεθάνει.

#### Προσθήκη νυχτερινού mode

<img src="https://user-images.githubusercontent.com/22644005/35177785-47fdfe3a-fd8b-11e7-83b5-f0b651c604a0.png" alt="" width="450" height="500">

Η ενεργοποίηση του νυχτερινού mode προκαλεί αρκετές αλλαγές στη ροή του παιχνιδιού με σκοπό να του δώσει μία περισσότερο horror αισθητική. 

Αναλυτικότερα:
* Δημιουργεί ένα κύκλο γύρω από τον παίκτη, πέρα του οποίου δεν μπορεί να δει
* Αλλάζει τη μουσική του gameplay
* Η συλλογή του καλαθιού μεγαλώνει τον κύκλο για τα επόμενα 10 δευτερόλεπτα

